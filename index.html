<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Zaptra</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            font-family: 'Exo 2', sans-serif;
            overflow: hidden;
        }
        
        canvas {
            position: fixed;
            top: 0;
            left: 0;
        }
        
        .game-title {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px #4df0ff, 0 0 20px #4df0ff, 0 0 30px #4df0ff;
            background: linear-gradient(to bottom, #ffffff, #4df0ff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .score-display {
            font-family: 'Orbitron', sans-serif;
            background: rgba(0, 10, 20, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(77, 240, 255, 0.3);
            box-shadow: 0 0 10px rgba(77, 240, 255, 0.5);
            border-radius: 10px;
        }
        
        .level-display {
            font-family: 'Orbitron', sans-serif;
            background: rgba(0, 10, 20, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(77, 240, 255, 0.3);
            box-shadow: 0 0 10px rgba(77, 240, 255, 0.5);
            border-radius: 10px;
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 5px 15px;
        }
        
        .modal-container {
            backdrop-filter: blur(5px);
            background: rgba(0, 0, 0, 0.7);
        }
        
        .modal-content {
            background: linear-gradient(135deg, #0a192f, #020d1c);
            border: 2px solid #4df0ff;
            box-shadow: 0 0 30px rgba(77, 240, 255, 0.5);
            border-radius: 20px;
        }
        
        .start-button {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(to right, #4df0ff, #2980b9);
            border: none;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(77, 240, 255, 0.5);
        }
        
        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 25px rgba(77, 240, 255, 0.7);
        }
        
        .start-button::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .start-button:hover::after {
            left: 100%;
        }
        
        .power-up-container {
            position: fixed;
            bottom: 15px;
            left: 15px;
            display: flex;
            gap: 10px;
        }
        
        .power-up-item {
            background: rgba(0, 10, 20, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(77, 240, 255, 0.3);
            border-radius: 8px;
            padding: 5px 10px;
            font-size: 14px;
            opacity: 0.7;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        #bigScore {
            text-shadow: 0 0 10px #4df0ff;
        }
        
        .game-over-text {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: #ff4d4d;
            text-shadow: 0 0 10px #ff4d4d;
        }
        
        .controls-hint {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 10, 20, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(77, 240, 255, 0.3);
            padding: 7px 15px;
            border-radius: 10px;
            font-size: 14px;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        
        .controls-hint:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Score Display -->
    <div class="score-display fixed text-white px-4 py-2 ml-2 mt-2 select-none z-10">
        <span class="text-lg">SCORE: </span><span id="scoreEl" class="text-xl font-bold">0</span>
    </div>
    
    <!-- Level Display -->
    <div id="levelDisplay" class="level-display text-white z-10">
        <span>LEVEL: </span><span id="levelEl" class="font-bold">1</span>
    </div>
    
    <!-- Power-ups Display -->
    <div id="powerUpContainer" class="power-up-container text-white z-10"></div>
    
    <!-- Controls Hint -->
    <div class="controls-hint text-white z-10">
        <span>CLICK to shoot</span>
    </div>
    
    <!-- Modal -->
    <div class="modal-container fixed inset-0 flex items-center justify-center z-20" id="modalEl">
        <div class="modal-content max-w-md w-full p-8 text-center">
            <h1 class="game-title text-5xl font-black mb-6">ZAPTRA</h1>
            
            <div class="mb-6">
                <h2 class="text-white text-xl mb-1">FINAL SCORE</h2>
                <div class="text-6xl font-black text-white mb-2 pulse" id="bigScore">0</div>
                <p class="text-gray-400">POINTS</p>
            </div>
            
            <div class="mb-8">
                <h3 class="text-white text-lg mb-3">HIGH SCORES</h3>
                <div id="highScoresList" class="text-gray-300 text-sm">
                    <!-- High scores will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div>
                <button class="start-button w-full py-4 rounded-lg text-white font-bold text-lg" id="startGameBtn">
                    START GAME
                </button>
            </div>
        </div>
    </div>
    
    <!-- Game Over Overlay -->
    <div class="fixed inset-0 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-1000 z-10" id="gameOverEl">
        <h1 class="game-over-text text-6xl font-black">GAME OVER</h1>
    </div>
    
    <canvas></canvas>
    
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script>
        // Add this script to handle high scores and UI updates
        const highScoresList = document.getElementById('highScoresList');
        const levelEl = document.getElementById('levelEl');
        const powerUpContainer = document.getElementById('powerUpContainer');
        const gameOverEl = document.getElementById('gameOverEl');
        
        // Example high scores (these would be managed by your main.js)
        const highScores = [
            { name: "PRO", score: 20000 },
            { name: "ACE", score: 15000 },
            { name: "GUN", score: 10000 }
        ];
        
        // Display high scores
        function updateHighScores() {
            highScoresList.innerHTML = '';
            highScores.forEach((entry, index) => {
                const scoreItem = document.createElement('div');
                scoreItem.className = "flex justify-between my-1";
                scoreItem.innerHTML = `
                    <span class="text-gray-400">${index + 1}.</span>
                    <span class="mx-2">${entry.name}</span>
                    <span class="font-bold">${entry.score.toLocaleString()}</span>
                `;
                highScoresList.appendChild(scoreItem);
            });
        }
        
        // Update level display
        function updateLevel(level) {
            levelEl.textContent = level;
        }
        
        // Update power-ups display
        function updatePowerUps(activePowerUps) {
            powerUpContainer.innerHTML = '';
            
            for (const [type, timeLeft] of Object.entries(activePowerUps)) {
                if (timeLeft > 0) {
                    const powerUpEl = document.createElement('div');
                    powerUpEl.className = 'power-up-item';
                    
                    let label, color;
                    switch(type) {
                        case 'multiShot': 
                            label = 'MULTI';
                            color = '#ffff00';
                            break;
                        case 'rapidFire': 
                            label = 'RAPID';
                            color = '#ff0000';
                            break;
                        case 'shield': 
                            label = 'SHIELD';
                            color = '#4df0ff';
                            break;
                    }
                    
                    powerUpEl.innerHTML = `<span style="color:${color}">${label}</span>: ${timeLeft}s`;
                    powerUpContainer.appendChild(powerUpEl);
                }
            }
        }
        
        // Show game over animation
        function showGameOver() {
            gameOverEl.classList.remove('opacity-0');
            setTimeout(() => {
                gameOverEl.classList.add('opacity-0');
            }, 2000);
        }
        
        // Initialize UI
        updateHighScores();
        
        // Connect these functions to your main.js
        // Example: window.gameUI = { updateLevel, updatePowerUps, showGameOver };
    </script>
    <script src="main.js"></script>
</body>
</html>